<form (ngSubmit)="onSubmit()">

  <div class="p-field">
    <label for="name">Name</label>
    <input type="text" pInputText [(ngModel)]="apartment.name" name="name">
  </div>

  <div class="p-field">
    <label for="description">Description</label>
    <textarea id="description" pInputTextarea [(ngModel)]="apartment.description" name="description"></textarea>
  </div>

  <div class="p-field">
    <label for="address">Address</label>
    <input type="text" id="street" pInputText [(ngModel)]="apartment.address.street" name="street">
    <input type="text" id="city" pInputText [(ngModel)]="apartment.address.city" name="city">
    </div>

  <label for="apartmentImage">Apartment Image</label>
  <div class="card flex justify-content-center"></div>
  <p-fileUpload
    name="demo[]"
    (onSelect)="onImageUpload($event)"
    [multiple]="true"
    accept="image/*"
    maxFileSize="1000000">
        <ng-template pTemplate="content">
          @if(true) {
            <ul></ul>
          }
          @if (files?.length) {
            <ul>
              @for (file of files; track $index) {
                <li>
                    {{ file.name }} - {{ file.size }} bytes
                </li>
              }
            </ul>

          }
        </ng-template>
</p-fileUpload>

<app-apartment-image [apartmentImageId]="apartment.apartmentImage[0].id"></app-apartment-image>
  <!-- <div class="image-preview">
    <input type="file" pInputText (change)="onImageChange($event)" accept="image/*" />
    <img *ngIf="previewImage" [src]="previewImage" alt="Selected Image Preview">
  </div> -->

  <div class="p-field">
    <label for="price">Price</label>
    <input type="number" id="price" pInputText [(ngModel)]="apartment.price" name="price">
  </div>

  <div class="p-field">
    <label for="cleaningFee">Cleaning Fee</label>
    <input type="number" id="cleaningFee" pInputText [(ngModel)]="apartment.cleaningFee" name="cleaningFee">
  </div>

  <!-- <div class="p-field">
    <label for="amenities">Amenities</label>
    <p-multiSelect [(ngModel)]="apartment.amenities" name="amenities" [options]="apartment.amenities"></p-multiSelect>
  </div> -->

  <button type="submit" pButton label="Update"></button>
</form>

<button type="back" pButton label="Back"></button>
